<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Messagerie Dark Mode</title>
</head>
<style>
          body {
                    margin: 0;
                    font-family: Arial, sans-serif;
                    background-color: #121212;
                    color: #E0E0E0;
                    display: flex;
                    flex-direction: column;
                    height: 100vh;
          }
          
          header {
                    background-color: #1F1F1F;
                    padding: 15px;
                    text-align: center;
                    font-size: 1.2em;
                    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
          }
          
          .chat-container {
                    flex: 1;
                    padding: 20px;
                    overflow-y: auto;
          }
          
          .msg {
                    margin-bottom: 20px;
                    max-width: 70%;
                    padding: 10px 15px;
                    border-radius: 15px;
                    position: relative;
                    clear: both;
          }
          
          .msg-sender {
                    font-weight: bold;
                    margin-bottom: 5px;
          }
          
          .msg-content {
                    line-height: 1.5;
          }
          
          /* Messages reçus et envoyés */
          .msg.received {
                    background-color: #2E2E2E;
                    float: left;
                    border-top-left-radius: 0;
          }
          
          .msg.sent {
                    background-color: #007BFF;
                    float: right;
                    border-top-right-radius: 0;
                    color: #fff;
          }
          
          /* Zone d'envoi de message */
          .input-container {
                    display: flex;
                    padding: 15px;
                    background-color: #1F1F1F;
          }
          
          .input-container input {
                    flex: 1;
                    padding: 10px;
                    border: none;
                    border-radius: 20px;
                    margin-right: 10px;
                    background-color: #2E2E2E;
                    color: #E0E0E0;
          }
          
          .input-container button {
                    padding: 10px 20px;
                    border: none;
                    border-radius: 20px;
                    background-color: #007BFF;
                    color: #fff;
                    cursor: pointer;
          }
          
          .input-container input:focus,
          .input-container button:focus {
                    outline: none;
          }
</style>
<body>
  <header>
    Messagerie
  </header>
  <div class="chat-container" id="chat-container">
    <div class="msg received">
      <div class="msg-sender">User 1</div>
      <div class="msg-content">Hello, how are you?</div>
    </div>
    <div class="msg sent">
      <div class="msg-sender">User 2</div>
      <div class="msg-content">I'm good, thank you!</div>
    </div>
    <!-- Vous pouvez ajouter d'autres messages ici -->
  </div>
  <form id="form" class="input-container">
    <input id="input" type="text" placeholder="Tapez votre message...">
    <button type="submit">Envoyer</button>
  </form>
</body>
</html>

<script src="/socket.io/socket.io.js"></script>
<script>


          const socket = io();
          const chatContainer = document.getElementById("chat-container");

          document.getElementById('form').addEventListener('submit', (e) => {
                    e.preventDefault();
                    const input = document.getElementById('input');
                    console.log(input);
                    socket.emit('message', input.value);
                    
                    let newMsg = `
                    
                    <div class="msg sent">
                              <div class="msg-sender">User 2</div>
                              <div class="msg-content">${input.value}</div>
                    </div>
                    
                    
                    `;
                    
                    chatContainer.innerHTML += newMsg;
                    
                    input.value = '';

          });


</script>